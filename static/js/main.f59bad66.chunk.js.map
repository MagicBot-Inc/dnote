{"version":3,"sources":["assets/template.png","App.js","index.js"],"names":["module","exports","__webpack_require__","p","VKStories","init","connect","App","_useState","useState","_useState2","Object","slicedToArray","name","setName","_useState3","_useState4","subject","setSubject","_useState5","_useState6","status","setStatus","react_default","a","createElement","vkui","activePanel","popout","id","style","background","title","color","state","top","value","onChange","e","currentTarget","length","vertical","margin","paddingRight","size","onClick","generateStoryFromTemplate","require","font","align","x","y","then","story","shareStory","add_to_news","catch","err","console","error","error_code","send","ReactDOM","render","src_App","document","getElementById"],"mappings":"mHAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,mJCOxCC,IAAUC,KAAKC,KAEf,IAsFeC,EAtFH,WAAM,IAAAC,EACSC,mBAAS,IADlBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTK,EADSH,EAAA,GACHI,EADGJ,EAAA,GAAAK,EAEeN,mBAAS,IAFxBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAETE,EAFSD,EAAA,GAEAE,EAFAF,EAAA,GAAAG,EAGaV,mBAAS,QAHtBW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAGTE,EAHSD,EAAA,GAGDE,EAHCF,EAAA,GAuCjB,OACCG,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAMC,YAAY,OAAOC,OAAmB,WAAXP,EAAsBE,EAAAC,EAAAC,cAACC,EAAA,cAAD,MAAkB,MACxEH,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOG,GAAG,QACTN,EAAAC,EAAAC,cAACC,EAAA,YAAD,6CACAH,EAAAC,EAAAC,cAACC,EAAA,WAAD,CAAYI,MAAO,CAAEC,WAAY,UAEpB,WAAXV,EACAE,EAAAC,EAAAC,cAACC,EAAA,WAAD,CAAYM,MAAM,sBAAOF,MAAO,CAACC,WAAY,UAAWE,MAAO,UAA/D,iJAEgB,KAGL,iBAAXZ,EACCE,EAAAC,EAAAC,cAACC,EAAA,WAAD,CAAYM,MAAM,4BAAQE,MAAM,SAAhC,iSAEgB,KAGN,UAAXb,EACCE,EAAAC,EAAAC,cAACC,EAAA,WAAD,CAAYM,MAAM,wCAAUE,MAAM,SAAlC,qKAEgB,KAElBX,EAAAC,EAAAC,cAACC,EAAA,MAAD,CACCS,IAAI,8LACJC,MAAOvB,EACPwB,SAAU,SAACC,GAAD,OAAOxB,EAAQwB,EAAEC,cAAcH,MAAMI,QAAU,GAAKF,EAAEC,cAAcH,MAAQvB,MAEvFU,EAAAC,EAAAC,cAACC,EAAA,MAAD,CACCS,IAAI,iLACJC,MAAOnB,EACPoB,SAAU,SAACC,GAAD,OAAOpB,EAAWoB,EAAEC,cAAcH,MAAMI,QAAU,GAAKF,EAAEC,cAAcH,MAAQnB,OAG3FM,EAAAC,EAAAC,cAACC,EAAA,YAAD,CAAae,SAAS,SAASX,MAAO,CAAEY,OAAQ,GAAIC,aAAc,KACjEpB,EAAAC,EAAAC,cAACC,EAAA,OAAD,CACCkB,KAAK,KACLC,QAvEa,WACjBvB,EAAU,UACVlB,IAAU0C,0BAA0BC,EAAQ,KAA0B,CACrE,CACCC,KAAM,mBACNC,MAAO,SACPhB,MAAO,UACPG,MAAOvB,EACPqC,EAAG,IACHC,EAAG,MAEJ,CACCH,KAAM,aACNC,MAAO,SACPhB,MAAO,UACPG,MAAOnB,EACPiC,EAAG,IACHC,EAAG,QAGHC,KAAK,SAACC,GACNjD,IAAUkD,WAAW,QAASD,EAAO,CAAEE,aAAa,IAClDH,KAAK,kBAAM9B,EAAU,YACrBkC,MAAM,SAACC,GACPC,QAAQC,MAAMF,GACS,IAAnBA,EAAIG,WACPtC,EAAU,gBAEVA,EAAU,eAyCZ,yIC3ELhB,IAAQuD,KAAK,eAAgB,IAE7BC,IAASC,OAAOxC,EAAAC,EAAAC,cAACuC,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.f59bad66.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/template.813e434a.png\";","import React, { useState } from 'react';\nimport connect from \"@vkontakte/vkui-connect-promise\";\nimport { View, Panel, PanelHeader, Input, FormLayout, FixedLayout, Button, ScreenSpinner, FormStatus } from '@vkontakte/vkui';\n\nimport VKStories from \"vk-stories\";\n\n// Init VKStories\nVKStories.init(connect);\n\nconst App = () => {\n\tconst [ name, setName ] = useState(\"\");\n\tconst [ subject, setSubject ] = useState(\"\");\n\tconst [ status, setStatus ] = useState(\"none\");\n\n\tconst makeStory = () => {\n\t\tsetStatus(\"making\");\n\t\tVKStories.generateStoryFromTemplate(require(\"./assets/template.png\"), [\n\t\t\t{\n\t\t\t\tfont: \"96px Arial Black\",\n\t\t\t\talign: \"center\",\n\t\t\t\tcolor: \"#FFFFFF\",\n\t\t\t\tvalue: name,\n\t\t\t\tx: 540,\n\t\t\t\ty: 1133\n\t\t\t},\n\t\t\t{\n\t\t\t\tfont: \"68px Arial\",\n\t\t\t\talign: \"center\",\n\t\t\t\tcolor: \"#FFFFFF\",\n\t\t\t\tvalue: subject,\n\t\t\t\tx: 540,\n\t\t\t\ty: 1494\n\t\t\t}\n\t\t])\n\t\t\t.then((story) => {\n\t\t\t\tVKStories.shareStory(6999763, story, { add_to_news: true })\n\t\t\t\t\t.then(() => setStatus(\"shared\"))\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\tif (err.error_code === 1) {\n\t\t\t\t\t\t\tsetStatus(\"sharingError\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetStatus(\"error\");\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t})\n\t};\n\n\treturn (\n\t\t<View activePanel=\"home\" popout={status === \"making\" ? <ScreenSpinner/>: null}>\n\t\t\t<Panel id=\"home\">\n\t\t\t\t<PanelHeader>НЕсдам</PanelHeader>\n\t\t\t\t<FormLayout style={{ background: \"white\" }}>\n\t\t\t\t\t{\n\t\t\t\t\t\tstatus === \"shared\" ?\n\t\t\t\t\t\t<FormStatus title=\"Ура!\" style={{background: '#528bcc', color: 'white'}}>\n\t\t\t\t\t\t\tВаша история опубликована!\n\t\t\t\t\t\t</FormStatus> : null\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tstatus === \"sharingError\" ?\n\t\t\t\t\t\t\t<FormStatus title=\"Жаль!\" state=\"error\">\n\t\t\t\t\t\t\t\tМы не смогли получить твой токен, чтобы загрузить стори\n\t\t\t\t\t\t\t</FormStatus> : null\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tstatus === \"error\" ?\n\t\t\t\t\t\t\t<FormStatus title=\"Ошибка!\" state=\"error\">\n\t\t\t\t\t\t\t\tПроизошла неизвестная ошибка...\n\t\t\t\t\t\t\t</FormStatus> : null\n\t\t\t\t\t}\n\t\t\t\t\t<Input\n\t\t\t\t\t\ttop=\"Имя человека, из-за которого не сдашь\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(e) => setName(e.currentTarget.value.length <= 16 ? e.currentTarget.value : name)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Input\n\t\t\t\t\t\ttop=\"Предмет / экзамен который не сдашь\"\n\t\t\t\t\t\tvalue={subject}\n\t\t\t\t\t\tonChange={(e) => setSubject(e.currentTarget.value.length <= 16 ? e.currentTarget.value : subject)}\n\t\t\t\t\t/>\n\t\t\t\t</FormLayout>\n\t\t\t\t<FixedLayout vertical=\"bottom\" style={{ margin: 15, paddingRight: 30 }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\tonClick={makeStory}\n\t\t\t\t\t>\n\t\t\t\t\t\tОпубликовать в истории\n\t\t\t\t\t</Button>\n\t\t\t\t</FixedLayout>\n\t\t\t</Panel>\n\t\t</View>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect-promise';\nimport App from './App';\n\nimport '@vkontakte/vkui/dist/vkui.css';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}